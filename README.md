# AFD åº¦é‡ä¸ç®—æ³•

æœ¬é¡¹ç›®æä¾›å‡½æ•°ä¾èµ–å‘ç°ï¼ˆAFDï¼‰çš„æ ¸å¿ƒåº¦é‡å®ç°åŠå¤šç§å‘ç°ç®—æ³•ï¼ŒåŒ…å«åŸºç¡€å·¥å…·åº“ã€æ ¸å¿ƒç®—æ³•å®ç°åŠå®éªŒæ¡†æ¶ã€‚

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
AFD-measures
â”œâ”€â”€ AFD-core - æ ¸å¿ƒåº“æ¨¡å—
â”‚   â”œâ”€â”€ src/main/java
â”‚   â”‚   â”œâ”€â”€ measure - åº¦é‡è®¡ç®—å®ç°
â”‚   â”‚   â”‚   â”œâ”€â”€ ErrorMeasure.java    # é”™è¯¯ç‡åº¦é‡æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ G1Measure.java       # G1åº¦é‡ç­–ç•¥ï¼šåŸºäº"è¿åå…ƒç»„å¯¹"çš„è¯¯å·®
â”‚   â”‚   â”‚   â”œâ”€â”€ G3Measure.java       # G3åº¦é‡ç­–ç•¥ï¼šåŸºäº"åˆ é™¤å…ƒç»„æ•°"çš„è¯¯å·®
â”‚   â”‚   â”‚   â”œâ”€â”€ SimpleG3Measure.java # ç®€åŒ–çš„G3åº¦é‡å®ç°
â”‚   â”‚   â”‚   â”œâ”€â”€ SimpleMeasure.java   # ç®€åŒ–åº¦é‡å®ç°
â”‚   â”‚   â”‚   â””â”€â”€ DynamicThreshold.java # åŠ¨æ€é˜ˆå€¼è®¡ç®—
â”‚   â”‚   â”œâ”€â”€ model - æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ DataSet.java         # æ•°æ®é›†ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ AutoTypeDataSet.java # è‡ªåŠ¨ç±»å‹è¯†åˆ«æ•°æ®é›†
â”‚   â”‚   â”‚   â””â”€â”€ FunctionalDependency.java # å‡½æ•°ä¾èµ–è¡¨ç¤º
â”‚   â”‚   â”œâ”€â”€ pli - åˆ†åŒºåˆ—è¡¨ç´¢å¼•
â”‚   â”‚   â”‚   â”œâ”€â”€ PLI.java              # PLIå®ç°
â”‚   â”‚   â”‚   â””â”€â”€ PLICache.java         # PLIç¼“å­˜
â”‚   â”‚   â”œâ”€â”€ sampling - é‡‡æ ·ç­–ç•¥
â”‚   â”‚   â”‚   â”œâ”€â”€ SamplingStrategy.java # é‡‡æ ·ç­–ç•¥æ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ RandomSampling.java   # éšæœºé‡‡æ ·
â”‚   â”‚   â”‚   â”œâ”€â”€ FocusedSampling.java  # èšç„¦é‡‡æ ·
â”‚   â”‚   â”‚   â””â”€â”€ NeymanSampling.java   # Neymanæœ€ä¼˜åˆ†é…é‡‡æ ·
â”‚   â”‚   â””â”€â”€ utils - å·¥å…·ç±»
â”‚   â”‚       â”œâ”€â”€ DataLoader.java       # æ•°æ®åŠ è½½å™¨
â”‚   â”‚       â”œâ”€â”€ FunctionTimer.java    # æ€§èƒ½è®¡æ—¶å™¨
â”‚   â”‚       â”œâ”€â”€ HittingSet.java       # æœ€å°å‘½ä¸­é›†ç®—æ³•
â”‚   â”‚       â”œâ”€â”€ BitSetUtils.java      # ä½é›†æ“ä½œå·¥å…·
â”‚   â”‚       â”œâ”€â”€ BitSetTrie.java       # ä½é›†å‰ç¼€æ ‘
â”‚   â”‚       â”œâ”€â”€ Trie.java             # é€šç”¨å‰ç¼€æ ‘
â”‚   â”‚       â”œâ”€â”€ MinFDTrie.java        # æœ€å°FDå‰ç¼€æ ‘
â”‚   â”‚       â”œâ”€â”€ MaxFDTrie.java        # æœ€å¤§éFDå‰ç¼€æ ‘
â”‚   â”‚       â”œâ”€â”€ Pair.java             # é€šç”¨å¯¹
â”‚   â”‚       â””â”€â”€ MinMaxPair.java       # æœ€å°æœ€å¤§å€¼å¯¹
â”‚   â””â”€â”€ src/test/java - å•å…ƒæµ‹è¯•
â”‚       â”œâ”€â”€ DataLoaderTest.java
â”‚       â”œâ”€â”€ DataSetTest.java
â”‚       â”œâ”€â”€ HittingSetTest.java
â”‚       â””â”€â”€ pli/
â”‚           â”œâ”€â”€ PLITest.java
â”‚           â””â”€â”€ PLICacheTest.java
â”œâ”€â”€ AFD-algorithms - ç®—æ³•å®ç°æ¨¡å—
â”‚   â”œâ”€â”€ pyro - Pyroç®—æ³•å®ç°ï¼ˆé¡¹ç›®é‡ç‚¹ï¼‰
â”‚   â”‚   â”œâ”€â”€ src/main/java/algorithm
â”‚   â”‚   â”‚   â”œâ”€â”€ Pyro.java             # Pyroç®—æ³•ä¸»ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchSpace.java      # æœç´¢ç©ºé—´å®ç°
â”‚   â”‚   â”‚   â””â”€â”€ Node.java             # æœç´¢èŠ‚ç‚¹
â”‚   â”‚   â””â”€â”€ src/test/java/algorithm
â”‚   â”‚       â””â”€â”€ SearchSpaceTest.java
â”‚   â”œâ”€â”€ tane - TANEç®—æ³•å®ç°ï¼ˆåŸºå‡†å¯¹æ¯”ï¼‰
â”‚   â”‚   â””â”€â”€ src/main/java/algorithm
â”‚   â”‚       â””â”€â”€ TaneAlgorithm.java    # TANEç®—æ³•å®ç°
â”‚   â””â”€â”€ experiment - å®éªŒæ¡†æ¶
â”‚       â””â”€â”€ src/main/java/experiment
â”‚           â”œâ”€â”€ ExperimentRunner.java  # å®éªŒè¿è¡Œå™¨
â”‚           â”œâ”€â”€ ExperimentConfig.java  # å®éªŒé…ç½®
â”‚           â”œâ”€â”€ ExperimentResult.java  # å®éªŒç»“æœ
â”‚           â”œâ”€â”€ ResultManager.java     # ç»“æœç®¡ç†å™¨
â”‚           â””â”€â”€ finder/
â”‚               â”œâ”€â”€ AFDFinder.java     # AFDå‘ç°å™¨æ¥å£
â”‚               â”œâ”€â”€ PyroExecutor.java  # Pyroæ‰§è¡Œå™¨
â”‚               â””â”€â”€ TaneExecutor.java  # TANEæ‰§è¡Œå™¨
â”œâ”€â”€ data/ - æ•°æ®é›†ç›®å½•
â””â”€â”€ result/ - å®éªŒç»“æœç›®å½•
```

## ğŸ”§ ç¯å¢ƒè¦æ±‚

- **Java**: JDK 11
- **Maven**: 3.9.9+
- **ä¾èµ–**:
  - SLF4J 2.0.17 + Logback 1.5.13 (æ—¥å¿—ç³»ç»Ÿ)
  - Caffeine 3.1.8 (ç¼“å­˜ç³»ç»Ÿ)
  - JUnit Jupiter 5.8.2 (æµ‹è¯•æ¡†æ¶)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†å¹¶æ„å»ºé¡¹ç›®

```bash
git clone [ä»“åº“åœ°å€]
cd AFD-measures

# æ„å»ºé¡¹ç›®
mvn clean install

# è·³è¿‡æµ‹è¯•æ„å»º
mvn clean install -DskipTests
```

### 2. è¿è¡Œå®éªŒ

```bash
# è¿è¡Œå®éªŒæ¡†æ¶
mvn exec:java -Dexec.mainClass="experiment.ExperimentRunner" -pl AFD-algorithms/experiment
```

### 3. è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
mvn test

# è¿è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
mvn test -pl AFD-core

# è¿è¡Œç‰¹å®šæµ‹è¯•ç±»
mvn test -Dtest=DataLoaderTest
```

## ğŸ§ª å®éªŒé…ç½®

å®éªŒæ¡†æ¶æ”¯æŒçµæ´»çš„é…ç½®ï¼Œä¸»è¦å‚æ•°åŒ…æ‹¬ï¼š

- **MAX_ERROR**: æœ€å¤§é”™è¯¯é˜ˆå€¼ï¼ˆé»˜è®¤ï¼š0.05ï¼‰
- **SAMPLE_PARAM**: é‡‡æ ·å‚æ•°ï¼ˆé»˜è®¤ï¼š200ï¼‰
- **SAMPLING_MODE**: é‡‡æ ·æ¨¡å¼ï¼ˆALL/NO_SAMPLING/RANDOM/FOCUSED/NEYMANï¼‰
- **RUN_TANE**: æ˜¯å¦è¿è¡ŒTANEç®—æ³•ï¼ˆé»˜è®¤ï¼štrueï¼‰
- **ALGORITHM_TIMEOUT_MINUTES**: ç®—æ³•è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤ï¼š120åˆ†é’Ÿï¼‰

### æ•°æ®é›†é…ç½®

æ”¯æŒä¸¤ç§æ•°æ®é›†é…ç½®æ¨¡å¼ï¼š

1. **ç›®å½•æ¨¡å¼**: è‡ªåŠ¨æ‰«ææŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰CSVæ–‡ä»¶
2. **åˆ—è¡¨æ¨¡å¼**: ä½¿ç”¨é¢„å®šä¹‰çš„æ•°æ®é›†è·¯å¾„åˆ—è¡¨

## ğŸ¯ æ ¸å¿ƒç®—æ³•

### Pyroç®—æ³•
- **ç‰¹ç‚¹**: æ”¯æŒå¤šç§é‡‡æ ·ç­–ç•¥çš„AFDå‘ç°ç®—æ³•
- **é‡‡æ ·ç­–ç•¥**: éšæœºé‡‡æ ·ã€èšç„¦é‡‡æ ·ã€Neymanæœ€ä¼˜åˆ†é…é‡‡æ ·
- **ä¼˜åŠ¿**: åœ¨å¤§æ•°æ®é›†ä¸Šå…·æœ‰è‰¯å¥½çš„æ€§èƒ½å’Œå‡†ç¡®æ€§

### TANEç®—æ³•
- **ç‰¹ç‚¹**: ç»å…¸çš„å‡½æ•°ä¾èµ–å‘ç°ç®—æ³•
- **ç”¨é€”**: ä½œä¸ºåŸºå‡†ç®—æ³•è¿›è¡Œæ€§èƒ½å¯¹æ¯”
- **å®ç°**: å®Œæ•´çš„TANEç®—æ³•å®ç°

## ğŸ“Š åº¦é‡ç­–ç•¥

### G1åº¦é‡
åŸºäº"è¿åå…ƒç»„å¯¹"çš„è¯¯å·®è®¡ç®—ç­–ç•¥

### G3åº¦é‡
åŸºäº"åˆ é™¤å…ƒç»„æ•°"çš„è¯¯å·®è®¡ç®—ç­–ç•¥

### SimpleG3åº¦é‡
ç®€åŒ–çš„G3åº¦é‡å®ç°ï¼Œæä¾›æ›´å¥½çš„æ€§èƒ½

### åŠ¨æ€é˜ˆå€¼
æ”¯æŒåŠ¨æ€é˜ˆå€¼è®¡ç®—ï¼Œé€‚åº”ä¸åŒæ•°æ®é›†çš„ç‰¹æ€§

## ğŸ” æ•°æ®å¤„ç†

### æ”¯æŒçš„æ•°æ®æ ¼å¼
- CSVæ–‡ä»¶ï¼ˆæ”¯æŒé€—å·ã€åˆ†å·ã€åˆ¶è¡¨ç¬¦åˆ†éš”ï¼‰
- è‡ªåŠ¨åˆ†éš”ç¬¦æ£€æµ‹
- è‡ªåŠ¨è¡¨å¤´è¯†åˆ«
- å¤šç§æ•°æ®ç±»å‹æ”¯æŒ

### æ•°æ®é›†ä½ç½®
- ä¸»æ•°æ®é›†ï¼š`data/` ç›®å½•
- æµ‹è¯•æ•°æ®ï¼š`AFD-core/src/test/resources/`
- å®éªŒç»“æœï¼š`result/` ç›®å½•

## ğŸ¨ æ‰©å±•å¼€å‘

### æ·»åŠ æ–°çš„é”™è¯¯åº¦é‡
1. å®ç° `ErrorMeasure` æ¥å£
2. æ·»åŠ åˆ° `AFD-core/src/main/java/measure/` åŒ…
3. æ›´æ–°å®éªŒé…ç½®

### æ·»åŠ æ–°çš„é‡‡æ ·ç­–ç•¥
1. å®ç° `SamplingStrategy` æ¥å£
2. æ·»åŠ åˆ° `AFD-core/src/main/java/sampling/` åŒ…
3. æ›´æ–° `ExperimentRunner` é…ç½®

### æ·»åŠ æ–°ç®—æ³•
1. åœ¨ `AFD-algorithms` ä¸‹åˆ›å»ºæ–°æ¨¡å—
2. å®ç° `AFDFinder` æ¥å£
3. æ·»åŠ å¯¹åº”çš„æ‰§è¡Œå™¨ç±»
4. æ›´æ–°å®éªŒæ¡†æ¶é…ç½®

## ğŸŒŸ é¡¹ç›®ç‰¹è‰²

### æ¨¡å—åŒ–è®¾è®¡
- æ¸…æ™°çš„æ¨¡å—åˆ’åˆ†ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•
- æ ¸å¿ƒåº“ä¸ç®—æ³•å®ç°åˆ†ç¦»
- ç»Ÿä¸€çš„æ¥å£è®¾è®¡

### æ€§èƒ½ä¼˜åŒ–
- PLIç¼“å­˜æœºåˆ¶æé«˜æŸ¥è¯¢æ•ˆç‡
- å¤šç§é‡‡æ ·ç­–ç•¥å‡å°‘è®¡ç®—å¼€é”€
- è¶…æ—¶æœºåˆ¶é˜²æ­¢é•¿æ—¶é—´è¿è¡Œ

### å®éªŒæ¡†æ¶
- å®Œæ•´çš„å®éªŒé…ç½®ç³»ç»Ÿ
- è‡ªåŠ¨ç»“æœæ”¶é›†å’Œç®¡ç†
- æ”¯æŒå¤šç®—æ³•å¹¶è¡Œæ¯”è¾ƒ

## ğŸ“ˆ åº”ç”¨åœºæ™¯

- **æ•°æ®æ¸…æ´—**: è¯†åˆ«å’Œä¿®æ­£æ•°æ®ä¸ä¸€è‡´æ€§
- **æ•°æ®åº“è®¾è®¡**: æŒ‡å¯¼æ•°æ®åº“æ¨¡å¼è§„èŒƒåŒ–
- **æŸ¥è¯¢ä¼˜åŒ–**: åˆ©ç”¨å‡½æ•°ä¾èµ–ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
- **æ•°æ®é›†æˆ**: å¤„ç†å¤šæ•°æ®æºçš„æ•°æ®å†²çª
- **æ•°æ®è´¨é‡è¯„ä¼°**: è¯„ä¼°æ•°æ®é›†çš„è´¨é‡å’Œä¸€è‡´æ€§

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. å‘èµ· Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨å¼€æºè®¸å¯è¯ï¼Œè¯¦æƒ…è¯·å‚é˜… LICENSE æ–‡ä»¶ã€‚
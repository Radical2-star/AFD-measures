# PLI优化配置文件
# 配置文件用于PLI缓存和性能优化参数

# ============================================================
# PLI缓存配置
# ============================================================

# PLI缓存最大内存限制（MB）
pli.cache.max.memory.mb=1024

# 缓存清理触发阈值（MB）
pli.cache.cleanup.threshold.mb=800

# 缓存项数量限制
pli.cache.max=10000
pli.cache.cleanup.batch=1000
pli.cache.cleanup.threshold=8000

# 缓存概率（0.0-1.0）
pli.cache.probability=0.5

# ============================================================
# 流式处理配置
# ============================================================

# 分块大小
streaming.pli.chunk.size=50000

# 最小分块
streaming.pli.min.chunk.size=10000

# 最大分块
streaming.pli.max.chunk.size=200000

# 流式处理内存阈值（MB）
streaming.pli.memory.threshold.mb=100

# 强制使用流式处理（true/false）
pli.force.streaming=false

# ============================================================
# 内存监控配置
# ============================================================

# 启用内存监控
memory.monitor.enabled=true

# 监控检查间隔
memory.monitor.interval.ms=5000

# 内存警告阈值（0.0-1.0）
memory.monitor.warning.threshold=0.7

# 内存严重告警阈值（0.0-1.0）
memory.monitor.critical.threshold=0.85

# 监控历史记录数
memory.monitor.history.size=10

# ============================================================
# 策略配置
# ============================================================

# 大数据集门槛值
strategy.large.dataset.threshold=1000000

# 超大数据集门槛值
strategy.huge.dataset.threshold=5000000

# 多列阈值
strategy.many.columns.threshold=20

# 低内存阈值（MB）
strategy.low.memory.threshold.mb=512

# 高内存阈值（MB）
strategy.high.memory.threshold.mb=2048

# ============================================================
# 日志配置
# ============================================================

# 详细日志
pli.verbose.logging=false

# 性能统计
pli.performance.stats=true

# 内存统计
pli.memory.stats=true

# GC优化启用
gc.optimization.enabled=true

# ============================================================
# 实验配置
# ============================================================

# 默认实验超时时间
experiment.default.timeout.minutes=30

# 大数据集超时时间
experiment.large.dataset.timeout.minutes=120

# 超大数据集超时时间
experiment.huge.dataset.timeout.minutes=240

# 内存预检查
experiment.memory.precheck.enabled=true

# 自动内存配置
experiment.auto.memory.config.enabled=true

# ============================================================
# JVM参数建议
# ============================================================

# 根据JVM数据集规模调整参数
# 小数据集<100万行：
# -Xms1g -Xmx2g -XX:+UseG1GC

# 中等数据集100万-500万行：
# -Xms2g -Xmx4g -XX:+UseG1GC -XX:MaxGCPauseMillis=200

# 大数据集500万-1000万行：
# -Xms4g -Xmx8g -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:G1HeapRegionSize=16m

# 超大数据集>1000万行：
# -Xms8g -Xmx16g -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:G1HeapRegionSize=32m

# ============================================================
# 调试和诊断配置
# ============================================================

# 调试模式
pli.debug.enabled=false

# 详细内存调试信息
pli.debug.memory.verbose=false

# 详细PLI构建信息
pli.debug.construction.verbose=false

# 缓存统计信息
pli.debug.cache.stats=true

# 内存泄漏检测
pli.debug.memory.leak.detection=false

# ============================================================
# 兼容性配置
# ============================================================

# 兼容模式（向后兼容）
pli.compatibility.mode=false

# 仅使用原始PLI算法
pli.use.original.only=false

# 禁用内存监控
pli.disable.memory.monitor=false

# 禁用自动策略
pli.disable.auto.strategy=false
